@page "/"
@layout EmptyLayout
@using NexusEMS.Web.Services
@using NexusEMS.Web.Pages.Shared
@inject AppStateService AppState
@inject NavigationManager Navigation

@code {
    protected override void OnInitialized()
    {
        if (AppState.IsAuthenticated)
        {
            if (AppState.IsAdmin)
                Navigation.NavigateTo("/admin/dashboard");
            else if (AppState.IsDepartmentChief)
                Navigation.NavigateTo("/chief/dashboard");
            else
                Navigation.NavigateTo("/login");
        }
        else
        {
            Navigation.NavigateTo("/login");
        }
    }
}

