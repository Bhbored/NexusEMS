@page "/"
@layout EmptyLayout
@using NexusEMS.Shared.Enums
@using NexusEMS.Web.Layouts
@using NexusEMS.Web.Services
@inject AuthService AuthService
@inject NavigationManager Navigation

@code {
    protected override void OnInitialized()
    {
        if (AuthService.IsAuthenticated)
        {
            var role = AuthService.GetUserRole();
            if (role == UserRole.Admin)
                Navigation.NavigateTo("/admin/dashboard");
            else if (role == UserRole.DepartmentChief)
                Navigation.NavigateTo("/chief/dashboard");
            else
                Navigation.NavigateTo("/login");
        }
        else
        {
            Navigation.NavigateTo("/login");
        }
    }
}

