@using Microsoft.AspNetCore.Components
@using NexusEMS.Web.Services
@inject NavigationManager Navigation
@inject AppStateService AppState

@code {
    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            try
            {
                if (AppState?.IsAdmin == true)
                    Navigation.NavigateTo("/admin/dashboard", forceLoad: false);
                else if (AppState?.IsDepartmentChief == true)
                    Navigation.NavigateTo("/chief/dashboard", forceLoad: false);
                else
                    Navigation.NavigateTo("/login", forceLoad: false);
            }
            catch
            {
            }
        }
    }
}

