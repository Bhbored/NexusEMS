@using NexusEMS.Shared.Models

<div class="card employee-card-modern h-100 shadow-sm border-0">
    <div class="card-body p-4">
        <div class="d-flex align-items-center mb-3">
            <div class="employee-avatar employee-avatar-@GetAvatarColor() me-3">
                <span class="fw-bold">@GetInitials(Employee?.FirstName, Employee?.LastName)</span>
            </div>
            <div>
                <h4 class="h6 fw-bold mb-0">@Employee?.FirstName @Employee?.LastName</h4>
                <p class="small text-muted mb-0">@Employee?.Position</p>
            </div>
        </div>
        
        <div class="employee-info mb-3">
            <div class="d-flex align-items-center mb-2">
                <i class="bi bi-envelope text-muted me-2 small"></i>
                <span class="small text-muted">@Employee?.Email</span>
            </div>
            <div class="d-flex align-items-center">
                <i class="bi bi-building text-muted me-2 small"></i>
                <span class="small text-muted">@Employee?.Department?.Name</span>
            </div>
        </div>
        
        <div class="pt-3 border-top">
            <span class="badge employee-status-badge">
                <span class="employee-status-dot"></span>
                @(Employee.IsActive ? "Active" : "Inactive")
            </span>
        </div>
    </div>
</div>

@code {
    [Parameter] public Employee Employee { get; set; }
    [Parameter] public EventCallback<Employee> OnViewClick { get; set; }

    private string GetInitials(string? first, string? last)
    {
        return $"{(first?.FirstOrDefault())}{(last?.FirstOrDefault())}";
    }

    private string GetAvatarColor()
    {
        if (Employee == null) return "cyan";
        
        var colors = new[] { "cyan", "blue", "indigo", "purple" };
        var index = (Employee.Id - 1) % colors.Length;
        return colors[index];
    }
}
