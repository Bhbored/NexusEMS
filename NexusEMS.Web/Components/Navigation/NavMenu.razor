@using NexusEMS.Shared.Enums
@using NexusEMS.Web.Services
@inject AuthService AuthService

<div class="nav-scrollable">
    <nav class="nav flex-column">
        @if (role == UserRole.Admin)
        {
            <NavLink class="nav-link" href="admin/dashboard" Match="NavLinkMatch.All">
                <i class="bi bi-speedometer2 me-2"></i> Dashboard
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>Organization</span>
            </h6>
            <NavLink class="nav-link" href="admin/branches">
                <i class="bi bi-building me-2"></i> Branches
            </NavLink>
            <NavLink class="nav-link" href="admin/departments">
                <i class="bi bi-diagram-3 me-2"></i> Departments
            </NavLink>
            <NavLink class="nav-link" href="admin/employees">
                <i class="bi bi-people me-2"></i> Employees
            </NavLink>
            <NavLink class="nav-link" href="admin/positions">
                <i class="bi bi-briefcase me-2"></i> Positions
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>Users & Access</span>
            </h6>
            <NavLink class="nav-link" href="admin/users">
                <i class="bi bi-person-badge me-2"></i> User Accounts
            </NavLink>
            <NavLink class="nav-link" href="admin/sessions">
                <i class="bi bi-laptop me-2"></i> Session Logs
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>Financial</span>
            </h6>
            <NavLink class="nav-link" href="admin/salary-configs">
                <i class="bi bi-sliders me-2"></i> Salary Configurations
            </NavLink>
            <NavLink class="nav-link" href="admin/salary-changes">
                <i class="bi bi-currency-exchange me-2"></i> Salary Changes
            </NavLink>
            <NavLink class="nav-link" href="admin/payroll-runs">
                <i class="bi bi-cash-stack me-2"></i> Payroll Runs
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>Operations</span>
            </h6>
            <NavLink class="nav-link" href="admin/work-schedules">
                <i class="bi bi-calendar3 me-2"></i> Work Schedules
            </NavLink>
            <NavLink class="nav-link" href="admin/attendance">
                <i class="bi bi-clock-history me-2"></i> Attendance
            </NavLink>
            <NavLink class="nav-link" href="admin/weekly-ratings">
                <i class="bi bi-star me-2"></i> Performance
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>Support</span>
            </h6>
            <NavLink class="nav-link" href="admin/complaints">
                <i class="bi bi-chat-left-text me-2"></i> Complaints
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>System</span>
            </h6>
            <NavLink class="nav-link" href="admin/audit-logs">
                <i class="bi bi-journal-text me-2"></i> Audit Logs
            </NavLink>
        }
        else if (role == UserRole.DepartmentChief)
        {
            <NavLink class="nav-link" href="chief/dashboard" Match="NavLinkMatch.All">
                <i class="bi bi-person-workspace me-2"></i> Dashboard
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>My Department</span>
            </h6>
            <NavLink class="nav-link" href="chief/my-department">
                <i class="bi bi-building me-2"></i> My Department
            </NavLink>
            <NavLink class="nav-link" href="chief/team">
                <i class="bi bi-people me-2"></i> My Team
            </NavLink>
        }
    </nav>
</div>

@code{
    private UserRole? role;

    protected override void OnInitialized()
    {
        role = AuthService.GetUserRole();
    }
}