@using NexusEMS.Shared.Enums
@using NexusEMS.Web.Services
@inject AuthService AuthService

<div class="nav-scrollable">
    <nav class="nav flex-column">
        @if (role == UserRole.Admin)
        {
            <NavLink class="nav-link" href="admin/dashboard" Match="NavLinkMatch.All">
                <i class="bi bi-speedometer2 me-2"></i> Dashboard
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>Admin</span>
            </h6>
            <NavLink class="nav-link" href="admin/employees">
                <i class="bi bi-people-fill me-2"></i> Employees
            </NavLink>
            <NavLink class="nav-link" href="admin/departments">
                <i class="bi bi-building-fill me-2"></i> Departments
            </NavLink>
        }
        else if (role == UserRole.DepartmentChief)
        {
            <NavLink class="nav-link" href="chief/dashboard" Match="NavLinkMatch.All">
                <i class="bi bi-person-workspace me-2"></i> Dashboard
            </NavLink>

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase">
                <span>My Department</span>
            </h6>
            <NavLink class="nav-link" href="chief/my-department">
                <i class="bi bi-building me-2"></i> My Department
            </NavLink>
            <NavLink class="nav-link" href="chief/team">
                <i class="bi bi-people me-2"></i> My Team
            </NavLink>
        }
    </nav>
</div>

@code{
    private UserRole? role;

    protected override void OnInitialized()
    {
        role = AuthService.GetUserRole();
    }
}